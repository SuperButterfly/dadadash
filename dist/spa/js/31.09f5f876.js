(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[31],{"051b":function(e,r,t){"use strict";t.r(r);var a=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("q-page-container",[t("q-page",[t("div",{staticClass:"q-pa-md q-gutter-sm"},[t("q-breadcrumbs",{scopedSlots:e._u([{key:"separator",fn:function(){return[t("q-icon",{attrs:{size:"1.2em",name:"arrow_forward"}})]},proxy:!0}])},[t("q-breadcrumbs-el",{attrs:{label:"Users",icon:"fas fa-user"}}),t("q-breadcrumbs-el",{attrs:{label:"Accounts",icon:"fas fa-address-book"}})],1)],1),t("q-separator"),t("q-card",{attrs:{flat:""}},[t("q-card-section",[t("q-input",{attrs:{label:"search"},model:{value:e.userFilter,callback:function(r){e.userFilter=r},expression:"userFilter"}})],1),t("q-card-section",[t("q-markup-table",{attrs:{flast:""}},[t("tbody",e._l(e.usersFiltered,(function(r){return t("tr",{staticStyle:{cursor:"pointer"},on:{click:function(t){return e.$router.push("/user/"+r.email)}}},[t("td",[e._v(e._s(r.email))]),t("td",[e._v(e._s(r.name))]),t("td",[e._v(e._s(r.created_at.split(".")[0].split("T").join(" ")))]),t("td",[t("q-btn",{attrs:{flat:"",icon:"fas fa-wrench",color:"black"}})],1)])})),0)])],1)],1)],1),t("q-drawer",{attrs:{overlay:"","content-class":"bg-grey-3",width:500,side:"right"},model:{value:e.newUserDrawer,callback:function(r){e.newUserDrawer=r},expression:"newUserDrawer"}},[t("q-scroll-area",{staticClass:"fit row"},[t("div",{staticClass:"q-pa-md"},[t("span",{staticClass:"text-h6"},[e._v("Create user")]),t("q-form",{staticClass:"q-gutter-md"},[t("q-input",{attrs:{label:"Name"},model:{value:e.user.name,callback:function(r){e.$set(e.user,"name",r)},expression:"user.name"}}),t("q-input",{attrs:{label:"Email"},model:{value:e.user.email,callback:function(r){e.$set(e.user,"email",r)},expression:"user.email"}}),t("q-input",{attrs:{label:"Password",type:"password"},model:{value:e.user.password,callback:function(r){e.$set(e.user,"password",r)},expression:"user.password"}}),t("q-btn",{attrs:{color:"primary"},on:{click:function(r){return e.createUser()}}},[e._v("Create")]),t("q-btn",{on:{click:function(r){e.newUserDrawer=!1}}},[e._v("Cancel")])],1)],1)])],1),t("q-drawer",{attrs:{overlay:"",width:400,side:"right"},model:{value:e.showHelp,callback:function(r){e.showHelp=r},expression:"showHelp"}},[t("q-scroll-area",{staticClass:"fit"},[t("help-page",{on:{closeHelp:function(r){e.showHelp=!1}},scopedSlots:e._u([{key:"help-content",fn:function(){return[t("q-markdown",{attrs:{src:"::: tip\nYou can add users to your instance here. You can also send the sign up link where users can signup themselves.\n:::"}})]},proxy:!0}])})],1)],1)],1)},s=[],n=(t("8e6e"),t("8a81"),t("ac6a"),t("cadf"),t("06db"),t("456d"),t("7f7f"),t("c47a")),o=t.n(n),l=t("2f62");function c(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,a)}return t}function i(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?c(Object(t),!0).forEach((function(r){o()(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var u={name:"UsersPage",methods:i(i({createUser:function(){var e=this;console.log("new user",this.user),this.user.tableName="user_account",e.createRow(e.user).then((function(r){e.user={},e.$q.notify({message:"User created"}),e.refresh(),e.newUserDrawer=!1})).catch((function(r){r instanceof Array?e.$q.notify({message:r[0].title}):e.$q.notify({message:"Failed to create user"})}))}},Object(l["b"])(["loadData","getTableSchema","createRow"])),{},{refresh:function(){var e=this,r="user_account";this.loadData({tableName:r,params:{page:{size:500}}}).then((function(r){console.log("Loaded data",r),e.users=r.data}))}}),data:function(){return i({text:"",userFilter:null,user:{},showHelp:!1,newUserDrawer:!1,users:[],filter:null,columns:[{name:"email",field:"email",label:"Email",align:"left",sortable:!0},{name:"name",field:"name",label:"Name",align:"left"},{name:"",format:function(){return"<span>hi</span>"}}]},Object(l["d"])([]))},mounted:function(){this.refresh()},computed:i(i({usersFiltered:function(){var e=this;return null==this.userFilter?this.users:this.users.filter((function(r){return r.email.indexOf(e.userFilter)>-1||r.name.indexOf(e.userFilter)>-1}))}},Object(l["c"])(["selectedTable"])),Object(l["d"])([])),watch:{}},d=u,f=t("2877"),p=t("09e3"),b=t("9989"),m=t("ead5"),w=t("0016"),h=t("079eb"),g=t("eb85"),q=t("de5e"),y=t("9c40"),v=t("f09f"),O=t("a370"),k=t("27f9"),_=t("2bb1"),j=t("9404"),Q=t("4983"),x=t("0378"),D=t("eebe"),P=t.n(D),C=Object(f["a"])(d,a,s,!1,null,null,null);r["default"]=C.exports;P()(C,"components",{QPageContainer:p["a"],QPage:b["a"],QBreadcrumbs:m["a"],QIcon:w["a"],QBreadcrumbsEl:h["a"],QSeparator:g["a"],QPageSticky:q["a"],QBtn:y["a"],QCard:v["a"],QCardSection:O["a"],QInput:k["a"],QMarkupTable:_["a"],QDrawer:j["a"],QScrollArea:Q["a"],QForm:x["a"]})}}]);