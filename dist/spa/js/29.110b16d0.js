(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[29],{cbb4:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("q-page-container",[r("q-page",[r("div",{staticClass:"row q-gutter-sm"},[r("div",{staticClass:"col-8 q-pa-md"},[r("q-btn",{attrs:{label:"Add Group",fab:"",icon:"add",color:"primary"},on:{click:function(t){e.newGroupDrawer=!0}}})],1),r("div",{staticClass:"col-12 q-pa-md"},[r("q-markup-table",[r("tbody",e._l(e.groups,(function(t){return r("tr",{staticStyle:{cursor:"pointer"},on:{click:function(r){return e.$router.push("/groups/"+t.reference_id)}}},[r("td",[e._v(e._s(t.name))])])})),0)])],1)]),e._v("d\n\n  "),r("q-drawer",{attrs:{overlay:"",width:500,"content-class":"bg-grey-3",side:"right"},model:{value:e.newGroupDrawer,callback:function(t){e.newGroupDrawer=t},expression:"newGroupDrawer"}},[r("q-scroll-area",{staticClass:"fit row"},[r("div",{staticClass:"q-pa-md"},[r("span",{staticClass:"text-h6"},[e._v("Create group")]),r("q-form",{staticClass:"q-gutter-md"},[r("q-input",{attrs:{label:"Name"},model:{value:e.group.name,callback:function(t){e.$set(e.group,"name",t)},expression:"group.name"}}),r("q-btn",{attrs:{color:"primary"},on:{click:function(t){return e.createGroup()}}},[e._v("Create")]),r("q-btn",{on:{click:function(t){e.newGroupDrawer=!1}}},[e._v("Cancel")])],1)],1)])],1)],1)],1)},n=[],o=(r("8e6e"),r("8a81"),r("ac6a"),r("cadf"),r("06db"),r("456d"),r("9523")),c=r.n(o),s=r("2f62");function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){c()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var l={name:"UserGroupsPage",methods:i(i({editGroup:function(e,t){console.log("Edit group",t)},createGroup:function(){var e=this;console.log("new group",this.group),this.group.tableName="usergroup",e.createRow(e.group).then((function(t){e.user={},e.$q.notify({message:"Group created"}),e.refresh(),e.newGroupDrawer=!1})).catch((function(t){t instanceof Array?e.$q.notify({message:t[0].title}):e.$q.notify({message:"Failed to create group"})}))}},Object(s["b"])(["loadData","getTableSchema","createRow"])),{},{refresh:function(){var e="usergroup",t=this;this.loadData({tableName:e,params:{page:{size:500}}}).then((function(e){console.log("Loaded data",e),t.groups=e.data}))}}),data:function(){return i({text:"",showHelp:!1,group:{},filter:null,newGroupDrawer:!1,groups:[],columns:[{name:"name",field:"name",label:"Group name",align:"left",sortable:!0}]},Object(s["d"])([]))},mounted:function(){this.refresh()},computed:i(i({},Object(s["c"])(["selectedTable"])),Object(s["d"])([])),watch:{}},p=l,f=r("2877"),d=r("09e3"),b=r("9989"),g=r("9c40"),m=r("2bb1"),w=r("9404"),h=r("4983"),O=r("0378"),v=r("27f9"),y=r("eebe"),q=r.n(y),j=Object(f["a"])(p,a,n,!1,null,null,null);t["default"]=j.exports;q()(j,"components",{QPageContainer:d["a"],QPage:b["a"],QBtn:g["a"],QMarkupTable:m["a"],QDrawer:w["a"],QScrollArea:h["a"],QForm:O["a"],QInput:v["a"]})}}]);