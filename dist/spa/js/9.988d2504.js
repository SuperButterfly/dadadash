(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[9],{2398:function(e,t,i){"use strict";var n=i("2708"),s=i.n(n);s.a},2708:function(e,t,i){},6588:function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("q-page-container",[i("div",{staticStyle:{height:"100vh",width:"100vw",overflow:"scroll"},attrs:{id:"grid-snap"},on:{dblclick:function(t){return e.addNew()}}},e._l(e.items,(function(t){return i("div",{staticClass:"item drag-drop",style:t.style,attrs:{id:t.id},on:{click:function(i){return e.itemSelected({target:{id:t.id}})}}},[e._v("\n      "+e._s(t)+"\n    ")])})),0),i("q-page-sticky",{attrs:{position:"right",offset:[0,0]}},[i("q-btn",{attrs:{size:"xs",icon:"fas fa-arrow-left"},on:{click:e.addNew}})],1),null!==e.selectedItem?i("q-page-sticky",{attrs:{position:"bottom",offset:[0,0]}},[i("q-card",[i("div",{staticClass:"row"},[i("div",{staticClass:"col-12"},[e._v(e._s(e.selectedItem.script))]),i("div",{staticClass:"col-12"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.newScriptLine,expression:"newScriptLine"}],domProps:{value:e.newScriptLine},on:{keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addItemScript(e.selectedItem,e.newScriptLine)},input:function(t){t.target.composing||(e.newScriptLine=t.target.value)}}})])])])],1):e._e(),i("q-menu",{attrs:{"touch-position":"","context-menu":""},on:{show:e.itemSelected}},[i("q-list",{staticStyle:{"min-width":"100px"},attrs:{dense:""}},[i("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""}},[i("q-item-section",{on:{click:e.deleteItem}},[e._v("Delete")])],1),i("q-separator"),i("q-item",{attrs:{clickable:""}},[i("q-item-section",[e._v("Preferences")]),i("q-item-section",{attrs:{side:""}},[i("q-icon",{attrs:{name:"keyboard_arrow_right"}})],1),i("q-menu",{attrs:{anchor:"top right",self:"top left"}},[i("q-list",e._l(3,(function(t){return i("q-item",{key:t,attrs:{dense:"",clickable:""}},[i("q-item-section",[e._v("Submenu Label")]),i("q-item-section",{attrs:{side:""}},[i("q-icon",{attrs:{name:"keyboard_arrow_right"}})],1),i("q-menu",{attrs:{"auto-close":"",anchor:"top right",self:"top left"}},[i("q-list",e._l(3,(function(t){return i("q-item",{key:t,attrs:{dense:"",clickable:""}},[i("q-item-section",[e._v("3rd level Label")])],1)})),1)],1)],1)})),1)],1)],1),i("q-separator"),i("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""}},[i("q-item-section",[e._v("Quit")])],1)],1)],1)],1)},s=[],r=(i("aef6"),i("28a5"),i("5014")),o=i.n(r);var a=document.body.clientWidth/12,c={name:"DragEditor",data:function(){return{items:[],n:0,newScriptLine:"",selectedItem:null}},methods:{addItemScript:function(e,t){console.log("add item script");var i=t.indexOf(":");if(-1===i)e.tag=t.trim();else for(var n=t.split(":"),s=n[0].trim(),r=s.split("."),o=n[1].trim(),a=e.props,c=0;c<r.length;c++){if(c+1===r.length){a[r[c]]=o;break}a[r[c]]||(a[r[c]]={}),a=a[r[c]]}this.newScriptLine=""},deleteItem:function(e){console.log("Delete item ",this.selectedItem),this.selectedItem=null;for(var t=-1,i=0;i<this.items.length;i++)if(this.items[i].id===this.selectedItem.id){t=i;break}-1!==t&&(this.items.splice(t,1),this.selectedItem=null)},getItemById:function(e){return this.items.filter((function(t){return t.id===e}))[0]},getItemContainerTargetBtId:function(e){return document.getElementById(e)},itemSelected:function(e){console.log("Item selected",e),this.selectedItem=this.getItemById(e.target.id)},addNew:function(){console.log("add new",arguments),this.n+=1,this.items.push({name:"item "+this.n,id:"item-"+this.n,style:{top:"0",left:"0",width:2*a+"px",height:a+"px"}})}},mounted:function(){console.log("Mounted drag editor");document.body.clientWidth,document.body.clientHeight;var e=this,t=document.body.clientWidth/12;o()(".drag-drop").draggable({inertia:!0,modifiers:[o.a.modifiers.snap({targets:[o.a.createSnapGrid({x:t,y:t})],range:1/0,relativePoints:[{x:0,y:0}]}),o.a.modifiers.restrict({restriction:"#grid-snap",elementRect:{top:0,left:0,bottom:1,right:1},endOnly:!1})],listeners:{move:function(t){var i=e.items.filter((function(e){return e.id===t.target.id}))[0],n=i.style.left,s=i.style.top;n.endsWith&&n.endsWith("px")&&(n=n.substring(0,n.length-2)),s.endsWith&&s.endsWith("px")&&(s=s.substring(0,s.length-2)),n=parseFloat(n)||0,s=parseFloat(s)||0,n+=t.dx,s+=t.dy,n=parseInt(n),s=parseInt(s),i.style.left=n+"px",i.style.top=s+"px"}}}).resizable({edges:{left:!0,right:!0,top:!0,bottom:!0},modifiers:[o.a.modifiers.snapSize({targets:[{width:t},o.a.createSnapGrid({width:t,height:t})]})],invert:"reposition",onmove:function(t){var i=e.items.filter((function(e){return e.id===t.target.id}))[0];i.style.left=t.rect.left+"px",i.style.top=t.rect.top+"px",i.style.width=t.rect.width+"px",i.style.height=t.rect.height+"px"}}),this.addNew()}},l=c,d=(i("2398"),i("2877")),m=i("09e3"),p=i("de5e"),u=i("9c40"),f=i("f09f"),h=i("4e73"),g=i("1c1c"),v=i("66e5"),y=i("4074"),w=i("eb85"),b=i("0016"),q=i("7f67"),I=i("eebe"),k=i.n(I),S=Object(d["a"])(l,n,s,!1,null,null,null);t["default"]=S.exports;k()(S,"components",{QPageContainer:m["a"],QPageSticky:p["a"],QBtn:u["a"],QCard:f["a"],QMenu:h["a"],QList:g["a"],QItem:v["a"],QItemSection:y["a"],QSeparator:w["a"],QIcon:b["a"]}),k()(S,"directives",{ClosePopup:q["a"]})}}]);